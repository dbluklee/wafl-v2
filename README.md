# ğŸ½ï¸ WAFL (We Are Food Lovers)

ë„¤ì´ë²„ í”Œë ˆì´ìŠ¤ ìŒì‹ì  ì •ë³´ ìë™ ìŠ¤í¬ë˜í•‘ ë° AI ë¦¬ë·° ë¶„ì„ ì‹œìŠ¤í…œ

---

## ğŸ“‹ ëª©ì°¨

1. [í”„ë¡œì íŠ¸ ê°œìš”](#-í”„ë¡œì íŠ¸-ê°œìš”)
2. [ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜](#-ì‹œìŠ¤í…œ-ì•„í‚¤í…ì²˜)
3. [ì£¼ìš” ê¸°ëŠ¥](#-ì£¼ìš”-ê¸°ëŠ¥)
4. [ê¸°ìˆ  ìŠ¤íƒ](#-ê¸°ìˆ -ìŠ¤íƒ)
5. [ì‹œìŠ¤í…œ êµ¬ì¡°](#-ì‹œìŠ¤í…œ-êµ¬ì¡°)
6. [ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ](#-ë°ì´í„°ë² ì´ìŠ¤-ìŠ¤í‚¤ë§ˆ)
7. [API ë¬¸ì„œ](#-api-ë¬¸ì„œ)
8. [ì„¤ì¹˜ ë° ì‹¤í–‰](#-ì„¤ì¹˜-ë°-ì‹¤í–‰)
9. [ì‚¬ìš© ê°€ì´ë“œ](#-ì‚¬ìš©-ê°€ì´ë“œ)
10. [ë¬¸ì œ í•´ê²°](#-ë¬¸ì œ-í•´ê²°)

---

## ğŸ¯ í”„ë¡œì íŠ¸ ê°œìš”

WAFLì€ ìŒì‹ì  ìš´ì˜ìë¥¼ ìœ„í•œ **ë„¤ì´ë²„ í”Œë ˆì´ìŠ¤ ë°ì´í„° ìë™í™” ìˆ˜ì§‘ ë° ë¶„ì„ ì‹œìŠ¤í…œ**ì…ë‹ˆë‹¤.

### í•µì‹¬ ê°€ì¹˜

- âœ… **ìë™í™”**: ìˆ˜ì‘ì—…ìœ¼ë¡œ í•˜ë˜ ë§¤ì¥ ì •ë³´, ë©”ë‰´, ë¦¬ë·° ìˆ˜ì§‘ ìë™í™”
- ğŸ¤– **AI ë¶„ì„**: GPT-4ë¥¼ í™œìš©í•œ ë¦¬ë·° ì¸ì‚¬ì´íŠ¸ ë„ì¶œ
- ğŸ“Š **ë°ì´í„° ê¸°ë°˜ ì˜ì‚¬ê²°ì •**: ë©”ë‰´ í˜ì–´ë§, íŠ¸ë Œë“œ, ì‹œê°„ëŒ€ë³„ ì„ í˜¸ë„ ë¶„ì„
- ğŸ”„ **ì‹¤ì‹œê°„ ë™ê¸°í™”**: ë„¤ì´ë²„ í”Œë ˆì´ìŠ¤ì™€ ì‹¤ì‹œê°„ ë°ì´í„° ë™ê¸°í™”

### í•´ê²°í•˜ëŠ” ë¬¸ì œ

1. **ë§¤ì¥ ì •ë³´ ìˆ˜ë™ ê´€ë¦¬ì˜ ë²ˆê±°ë¡œì›€**
   - ë„¤ì´ë²„ í”Œë ˆì´ìŠ¤ ì •ë³´ë¥¼ ì¼ì¼ì´ í™•ì¸í•˜ê³  ì…ë ¥
   - ë©”ë‰´ ë³€ê²½ ì‹œ ìˆ˜ë™ ì—…ë°ì´íŠ¸ í•„ìš”

2. **ë¦¬ë·° ë¶„ì„ì˜ ì–´ë ¤ì›€**
   - ìˆ˜ë°± ê°œì˜ ë¦¬ë·°ë¥¼ ì¼ì¼ì´ ì½ê³  ë¶„ì„
   - íŠ¸ë Œë“œì™€ ê³ ê° ì„ í˜¸ë„ íŒŒì•… ì‹œê°„ ì†Œìš”

3. **ë°ì´í„° ê¸°ë°˜ ì˜ì‚¬ê²°ì • ë¶€ì¬**
   - ì–´ë–¤ ë©”ë‰´ê°€ ì¸ê¸° ìˆëŠ”ì§€ ê°ìœ¼ë¡œ íŒë‹¨
   - ë©”ë‰´ ì¡°í•© ì¶”ì²œ ë°ì´í„° ë¶€ì¡±

---

## ğŸ—ï¸ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        ì‚¬ìš©ì (ë¸Œë¼ìš°ì €)                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚ HTTP
                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    API Gateway (Nginx)                           â”‚
â”‚                    Port: 50080                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ Web Server   â”‚ â”‚ Scraping API â”‚ â”‚ Static Files (Media) â”‚    â”‚
â”‚  â”‚ :8000        â”‚ â”‚ :8001        â”‚ â”‚ /media/*             â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚                â”‚
           â”‚                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â–¼                                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Web Server         â”‚         â”‚   Scraping Server           â”‚
â”‚   (FastAPI)          â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”¤   (FastAPI)                 â”‚
â”‚   Port: 8000         â”‚ Proxy   â”‚   Port: 8001                â”‚
â”‚                      â”‚         â”‚                             â”‚
â”‚ â€¢ ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤   â”‚         â”‚ â€¢ ìŠ¤í¬ë˜í•‘ ì‘ì—… ê´€ë¦¬         â”‚
â”‚ â€¢ ë§¤ì¥ ë“±ë¡/ê´€ë¦¬     â”‚         â”‚ â€¢ Celery íƒœìŠ¤í¬ ì‹œì‘         â”‚
â”‚ â€¢ ìš”ì•½ í˜ì´ì§€ ì œê³µ   â”‚         â”‚ â€¢ API ì—”ë“œí¬ì¸íŠ¸ ì œê³µ        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚                                â”‚
           â”‚                                â”‚ Task Queue
           â”‚                                â–¼
           â”‚                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â”‚                     â”‚   Celery Worker             â”‚
           â”‚                     â”‚   (Background Jobs)         â”‚
           â”‚                     â”‚                             â”‚
           â”‚                     â”‚ â€¢ ì›¹ ìŠ¤í¬ë˜í•‘ (Selenium)    â”‚
           â”‚                     â”‚ â€¢ ì´ë¯¸ì§€ ë‹¤ìš´ë¡œë“œ           â”‚
           â”‚                     â”‚ â€¢ AI ë¦¬ë·° ìš”ì•½ ìƒì„±         â”‚
           â”‚                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚                                â”‚
           â”‚                                â”‚ OpenAI API
           â”‚                                â–¼
           â”‚                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â”‚                     â”‚   OpenAI GPT-4o-mini        â”‚
           â”‚                     â”‚                             â”‚
           â”‚                     â”‚ â€¢ ë¦¬ë·° ë¶„ì„ ë° ìš”ì•½         â”‚
           â”‚                     â”‚ â€¢ ë©”ë‰´ í˜ì–´ë§ ì¶”ì²œ          â”‚
           â”‚                     â”‚ â€¢ íŠ¸ë Œë“œ ë¶„ì„               â”‚
           â”‚                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         ê³µí†µ ì¸í”„ë¼                              â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚   PostgreSQL         â”‚         â”‚   Redis               â”‚    â”‚
â”‚  â”‚   Port: 55432        â”‚         â”‚   Port: 56379         â”‚    â”‚
â”‚  â”‚                      â”‚         â”‚                       â”‚    â”‚
â”‚  â”‚ â€¢ ë§¤ì¥ ì •ë³´          â”‚         â”‚ â€¢ Celery ë©”ì‹œì§€ í    â”‚    â”‚
â”‚  â”‚ â€¢ ë©”ë‰´               â”‚         â”‚ â€¢ íƒœìŠ¤í¬ ìƒíƒœ ê´€ë¦¬    â”‚    â”‚
â”‚  â”‚ â€¢ ë¦¬ë·°               â”‚         â”‚                       â”‚    â”‚
â”‚  â”‚ â€¢ ë¦¬ë·° ìš”ì•½          â”‚         â”‚                       â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                    â–² ìŠ¤í¬ë˜í•‘ ëŒ€ìƒ â–²
                    â”‚              â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚     ë„¤ì´ë²„ í”Œë ˆì´ìŠ¤ (Naver Place)     â”‚
        â”‚   https://m.place.naver.com/...      â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ë°ì´í„° íë¦„

```
1. ì‚¬ìš©ì ë§¤ì¥ ë“±ë¡
   User â†’ Web Server â†’ PostgreSQL (ë§¤ì¥ ì •ë³´ ì €ì¥)

2. ìŠ¤í¬ë˜í•‘ ì‹œì‘
   User â†’ Web Server â†’ Scraping API â†’ Redis (Celery Task)
                                    â†“
                              Celery Worker
                                    â†“
                            Selenium (ë„¤ì´ë²„ ìŠ¤í¬ë˜í•‘)
                                    â†“
                              PostgreSQL (ë°ì´í„° ì €ì¥)

3. AI ìš”ì•½ ìƒì„±
   Celery Worker â†’ PostgreSQL (ë¦¬ë·° ì¡°íšŒ)
                â†“
           OpenAI API (GPT-4o-mini)
                â†“
           PostgreSQL (ìš”ì•½ ì €ì¥)

4. ê²°ê³¼ ì¡°íšŒ
   User â†’ Web Server â†’ Scraping API â†’ PostgreSQL â†’ User
```

---

## âœ¨ ì£¼ìš” ê¸°ëŠ¥

### 1. ë§¤ì¥ ì •ë³´ ìë™ ìˆ˜ì§‘

ë„¤ì´ë²„ í”Œë ˆì´ìŠ¤ì—ì„œ ë‹¤ìŒ ì •ë³´ë¥¼ ìë™ìœ¼ë¡œ ìˆ˜ì§‘í•©ë‹ˆë‹¤:

```
ğŸ“ ê¸°ë³¸ ì •ë³´
â”œâ”€â”€ ë§¤ì¥ëª…
â”œâ”€â”€ ì¹´í…Œê³ ë¦¬
â”œâ”€â”€ ì£¼ì†Œ
â”œâ”€â”€ ì „í™”ë²ˆí˜¸
â”œâ”€â”€ ë§¤ì¥ ì†Œê°œ
â””â”€â”€ ì œê³µ ì„œë¹„ìŠ¤

ğŸ” ë©”ë‰´ ì •ë³´
â”œâ”€â”€ ë©”ë‰´ëª…
â”œâ”€â”€ ê°€ê²©
â”œâ”€â”€ ì„¤ëª…
â”œâ”€â”€ ì¶”ì²œ ì—¬ë¶€
â””â”€â”€ ë©”ë‰´ ì´ë¯¸ì§€ (ìë™ ë‹¤ìš´ë¡œë“œ ë° ìµœì í™”)

ğŸ’¬ ë¦¬ë·° ì •ë³´
â”œâ”€â”€ ë¦¬ë·° ë‚´ìš©
â”œâ”€â”€ ì‘ì„±ì¼
â””â”€â”€ ì¬ë°©ë¬¸ íšŸìˆ˜
```

**ì˜ˆì‹œ:**
```bash
# ìŠ¤í¬ë˜í•‘ ì‹œì‘
curl -X POST "http://localhost:58001/api/scraping/start" \
  -H "Content-Type: application/json" \
  -d '{"store_id": 1}'

# ì§„í–‰ ìƒíƒœ í™•ì¸
curl "http://localhost:58001/api/scraping/status/[task_id]"
```

### 2. AI ê¸°ë°˜ ë¦¬ë·° ë¶„ì„

GPT-4o-minië¥¼ í™œìš©í•˜ì—¬ ë¦¬ë·°ì—ì„œ ì¸ì‚¬ì´íŠ¸ë¥¼ ë„ì¶œí•©ë‹ˆë‹¤:

#### ğŸ“Š ì¸ê¸° ë©”ë‰´ TOP 3
```
1. ë¹„ë¹”ëƒ‰ë©´ (15íšŒ ì–¸ê¸‰)
   - ê³ ê° ì„ í˜¸ ì´ìœ : ë§¤ì½¤í•˜ë©´ì„œë„ ê¹”ë”í•œ ë§›
   - ëŒ€í‘œ ë¦¬ë·°: "ë¹„ë¹”ëƒ‰ë©´ì€ ë„ˆë¬´ ì¢‹ì•„í•©ë‹ˆë‹¤ğŸ’•"

2. ë¬¼ëƒ‰ë©´ (12íšŒ ì–¸ê¸‰)
   - ê³ ê° ì„ í˜¸ ì´ìœ : ë‹´ë°±í•˜ê³  ê¹”ë”í•œ ìœ¡ìˆ˜
   - ëŒ€í‘œ ë¦¬ë·°: "í‰ì–‘ëƒ‰ë©´ì˜ ë¹„ì£¼ì–¼ì´ì§€ë§Œ ì „í˜€ ë‹¤ë¥¸ ë§›..."

3. ì œìœ¡ (10íšŒ ì–¸ê¸‰)
   - ê³ ê° ì„ í˜¸ ì´ìœ : ë¶€ë“œëŸ¬ìš´ ì‹ê°, ëƒ‰ë©´ê³¼ì˜ ì¡°í™”
   - ëŒ€í‘œ ë¦¬ë·°: "ì œìœ¡ì€ ëŠ˜ ë¨¹ì„ ë•Œë§ˆë‹¤ ê°íƒ„í•˜ê²Œ ëœë‹¤"
```

#### ğŸ¤ ë©”ë‰´ í˜ì–´ë§ ì¶”ì²œ
```
ì¶”ì²œ ì¡°í•© 1: ë¹„ë¹”ëƒ‰ë©´ + ì œìœ¡
â””â”€â”€ ë§¤ì½¤í•¨ê³¼ ë¶€ë“œëŸ¬ìš´ ì‹ê°ì˜ ì¡°í™”
    ì‹¤ì œ ë¦¬ë·°: "ë¹„ë¹”ëƒ‰ë©´ì— ì œìœ¡ ì¶”ê°€í•´ì„œ ë¨¹ì—ˆìŠµë‹ˆë‹¤ğŸ˜‰"

ì¶”ì²œ ì¡°í•© 2: ë¬¼ëƒ‰ë©´ + ë¹„ë¹”ì˜¤ì´
â””â”€â”€ ë‹´ë°±í•¨ê³¼ ì•„ì‚­í•œ ì‹ê°ì˜ ì¡°í™”
    ì‹¤ì œ ë¦¬ë·°: "ëƒ‰ë©´ ìœ„ì— ì œìœ¡ì„ ì•„ì£¼ ì¢‹ì•„í•©ë‹ˆë‹¤"
```

#### â° ì‹œê°„ëŒ€ë³„ ì„ í˜¸ë„
```
ì ì‹¬ (11:00-14:00)
â””â”€â”€ ë¹„ë¹”ëƒ‰ë©´, ë¬¼ëƒ‰ë©´ (ì‹œì›í•œ ëƒ‰ë©´ ì„ í˜¸)

ì €ë… (18:00-21:00)
â””â”€â”€ ì œìœ¡ + ëƒ‰ë©´ ì¡°í•© (ìˆ ê³¼ í•¨ê»˜ ì¦ê¸°ëŠ” ê²½í–¥)

ì£¼ë§
â””â”€â”€ ê°€ì¡± ë‹¨ìœ„ ë°©ë¬¸ ì¦ê°€, ì œìœ¡+ë¹„ë¹”ëƒ‰ë©´ ì¡°í•© ì¸ê¸°
```

### 3. ëŒ€ì‹œë³´ë“œ

ì§ê´€ì ì¸ ì›¹ ì¸í„°í˜ì´ìŠ¤ë¡œ ëª¨ë“  ì •ë³´ë¥¼ í•œëˆˆì— í™•ì¸:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ë§¤ì¥ ëŒ€ì‹œë³´ë“œ                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                  â”‚
â”‚  [ë§¤ì¥ ì •ë³´] [ë©”ë‰´] [ë¦¬ë·°] [AI ìš”ì•½]            â”‚
â”‚                                                  â”‚
â”‚  ğŸ“Š í†µê³„                                         â”‚
â”‚  â”œâ”€â”€ ì´ ë©”ë‰´: 9ê°œ                                â”‚
â”‚  â”œâ”€â”€ ì´ ë¦¬ë·°: 48ê°œ                               â”‚
â”‚  â””â”€â”€ ì¬ë°©ë¬¸ìœ¨: 39.6%                             â”‚
â”‚                                                  â”‚
â”‚  ğŸ” ë©”ë‰´ ëª©ë¡                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
â”‚  â”‚ ë¹„ë¹”ëƒ‰ë©´â”‚ ë¬¼ëƒ‰ë©´  â”‚ ì œìœ¡   â”‚                   â”‚
â”‚  â”‚ 12,000 â”‚ 12,000 â”‚ 15,000 â”‚                   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚
â”‚                                                  â”‚
â”‚  ğŸ’¡ AI ì¸ì‚¬ì´íŠ¸                                  â”‚
â”‚  â””â”€â”€ "ë¹„ë¹”ëƒ‰ë©´ê³¼ ì œìœ¡ ì¡°í•©ì´ ì¸ê¸° ìƒìŠ¹ ì¤‘"       â”‚
â”‚                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ› ï¸ ê¸°ìˆ  ìŠ¤íƒ

### Backend
```
FastAPI (Python 3.11)
â”œâ”€â”€ Web Server (ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤)
â””â”€â”€ Scraping API (ìŠ¤í¬ë˜í•‘ ê´€ë¦¬)

Celery (ë¶„ì‚° íƒœìŠ¤í¬ í)
â”œâ”€â”€ Worker 1: ì›¹ ìŠ¤í¬ë˜í•‘
â”œâ”€â”€ Worker 2: ì´ë¯¸ì§€ ì²˜ë¦¬
â””â”€â”€ Worker N: AI ìš”ì•½ ìƒì„±
```

### Frontend
```
HTML5 + JavaScript
â”œâ”€â”€ Jinja2 í…œí”Œë¦¿ ì—”ì§„
â”œâ”€â”€ Marked.js (Markdown ë Œë”ë§)
â””â”€â”€ Vanilla JS (í”„ë ˆì„ì›Œí¬ ì—†ìŒ)
```

### Infrastructure
```
Docker Compose
â”œâ”€â”€ PostgreSQL 15 (ë°ì´í„° ì €ì¥)
â”œâ”€â”€ Redis 7 (ë©”ì‹œì§€ í)
â”œâ”€â”€ Nginx (API Gateway)
â””â”€â”€ Selenium + Chrome (ì›¹ ìŠ¤í¬ë˜í•‘)
```

### AI/ML
```
OpenAI API
â””â”€â”€ GPT-4o-mini
    â”œâ”€â”€ ë¦¬ë·° ë¶„ì„
    â”œâ”€â”€ ë©”ë‰´ ì¶”ì²œ
    â””â”€â”€ íŠ¸ë Œë“œ ì˜ˆì¸¡
```

---

## ğŸ”§ ì‹œìŠ¤í…œ êµ¬ì¡°

### 1. Web Server (í¬íŠ¸: 8000)

ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤ë¥¼ ì œê³µí•˜ëŠ” FastAPI ì• í”Œë¦¬ì¼€ì´ì…˜

**ì£¼ìš” ê¸°ëŠ¥:**
- ë§¤ì¥ ë“±ë¡/ì¡°íšŒ/ì‚­ì œ
- ëŒ€ì‹œë³´ë“œ ì œê³µ
- ìŠ¤í¬ë˜í•‘ ì„œë²„ API í”„ë¡ì‹œ

**ì£¼ìš” ì—”ë“œí¬ì¸íŠ¸:**
```python
GET  /                              # ë©”ì¸ í˜ì´ì§€
GET  /register                      # ë§¤ì¥ ë“±ë¡ í˜ì´ì§€
POST /api/stores/register           # ë§¤ì¥ ë“±ë¡ API
GET  /dashboard                     # ëŒ€ì‹œë³´ë“œ
GET  /store/{store_id}/detail       # ë§¤ì¥ ìƒì„¸
GET  /store/{store_id}/summary      # AI ìš”ì•½ í˜ì´ì§€
```

**ë””ë ‰í† ë¦¬ êµ¬ì¡°:**
```
web-server/
â”œâ”€â”€ main.py                 # FastAPI ì•±
â”œâ”€â”€ database.py             # DB ëª¨ë¸
â”œâ”€â”€ templates/              # Jinja2 í…œí”Œë¦¿
â”‚   â”œâ”€â”€ base.html
â”‚   â”œâ”€â”€ index.html
â”‚   â”œâ”€â”€ dashboard.html
â”‚   â”œâ”€â”€ store_detail.html
â”‚   â””â”€â”€ summary.html
â””â”€â”€ Dockerfile
```

### 2. Scraping Server (í¬íŠ¸: 8001)

ìŠ¤í¬ë˜í•‘ ì‘ì—…ì„ ê´€ë¦¬í•˜ëŠ” FastAPI ì• í”Œë¦¬ì¼€ì´ì…˜

**ì£¼ìš” ê¸°ëŠ¥:**
- Celery íƒœìŠ¤í¬ ì‹œì‘/ëª¨ë‹ˆí„°ë§
- ìŠ¤í¬ë˜í•‘ëœ ë°ì´í„° ì¡°íšŒ
- ìš”ì•½ ìƒì„± íŠ¸ë¦¬ê±°

**ì£¼ìš” ì—”ë“œí¬ì¸íŠ¸:**
```python
POST /api/scraping/start                              # ìŠ¤í¬ë˜í•‘ ì‹œì‘
GET  /api/scraping/status/{task_id}                   # íƒœìŠ¤í¬ ìƒíƒœ
GET  /api/scraping/store/{store_id}                   # ë§¤ì¥ ë°ì´í„° ì¡°íšŒ
GET  /api/scraping/store/{store_id}/menus             # ë©”ë‰´ ëª©ë¡
GET  /api/scraping/store/{store_id}/reviews           # ë¦¬ë·° ëª©ë¡
GET  /api/scraping/store/{store_id}/summary           # AI ìš”ì•½ ì¡°íšŒ
POST /api/scraping/store/{store_id}/summary/regenerate # ìš”ì•½ ì¬ìƒì„±
```

**ë””ë ‰í† ë¦¬ êµ¬ì¡°:**
```
scraping-server/
â”œâ”€â”€ main.py                 # FastAPI ì•±
â”œâ”€â”€ database.py             # DB ëª¨ë¸
â”œâ”€â”€ celery_app.py           # Celery ì„¤ì •
â”œâ”€â”€ tasks/
â”‚   â””â”€â”€ scraping_tasks.py   # ìŠ¤í¬ë˜í•‘ íƒœìŠ¤í¬
â”œâ”€â”€ utils/
â”‚   â”œâ”€â”€ selenium_driver.py  # Selenium ë“œë¼ì´ë²„
â”‚   â”œâ”€â”€ image_downloader.py # ì´ë¯¸ì§€ ì²˜ë¦¬
â”‚   â””â”€â”€ llm_summarizer.py   # AI ìš”ì•½ ìƒì„±
â””â”€â”€ Dockerfile
```

### 3. Celery Worker

ë°±ê·¸ë¼ìš´ë“œì—ì„œ ì‹¤í–‰ë˜ëŠ” ìŠ¤í¬ë˜í•‘ ë° AI ì‘ì—… ì²˜ë¦¬

**íƒœìŠ¤í¬ ì¢…ë¥˜:**

```python
# 1. ë§¤ì¥ ë°ì´í„° ìŠ¤í¬ë˜í•‘ (scrape_store_data)
ë§¤ì¥ ê¸°ë³¸ ì •ë³´ ìˆ˜ì§‘
    â†“
ë©”ë‰´ ì •ë³´ ìˆ˜ì§‘ (ì´ë¯¸ì§€ ë‹¤ìš´ë¡œë“œ í¬í•¨)
    â†“
ë¦¬ë·° ì •ë³´ ìˆ˜ì§‘ (ìµœëŒ€ 50í˜ì´ì§€)
    â†“
ë°ì´í„° ê²€ì¦ ë° ì €ì¥
    â†“
AI ìš”ì•½ íƒœìŠ¤í¬ ìë™ ì‹œì‘

# 2. AI ë¦¬ë·° ìš”ì•½ ìƒì„± (generate_review_summary)
ë¦¬ë·° ë°ì´í„° ì¡°íšŒ
    â†“
ë©”ë‰´ ëª©ë¡ ì¡°íšŒ
    â†“
GPT-4o-mini í”„ë¡¬í”„íŠ¸ ìƒì„±
    â†“
OpenAI API í˜¸ì¶œ
    â†“
ë§ˆí¬ë‹¤ìš´ ìš”ì•½ ì €ì¥
```

**Celery ì„¤ì •:**
```python
# celery_app.py
broker_url = 'redis://wafl-redis:6379/0'
result_backend = 'redis://wafl-redis:6379/0'

task_routes = {
    'tasks.scraping_tasks.*': {'queue': 'scraping'},
    'tasks.scraping_tasks.generate_review_summary': {'queue': 'summary'}
}
```

### 4. Selenium Driver

ë„¤ì´ë²„ í”Œë ˆì´ìŠ¤ ì›¹ ìŠ¤í¬ë˜í•‘ì„ ë‹´ë‹¹

**ì£¼ìš” ê¸°ëŠ¥:**
```python
class SeleniumDriver:
    def __init__(self, headless=True):
        """Chrome ë“œë¼ì´ë²„ ì´ˆê¸°í™”"""
        options = webdriver.ChromeOptions()
        options.add_argument('--headless')      # í—¤ë“œë¦¬ìŠ¤ ëª¨ë“œ
        options.add_argument('--no-sandbox')
        options.add_argument('--disable-dev-shm-usage')
        options.add_argument('--disable-gpu')

    def get(self, url):
        """í˜ì´ì§€ ë¡œë“œ ë° ëŒ€ê¸°"""
        self.driver.get(url)
        time.sleep(3)  # ë™ì  ì½˜í…ì¸  ë¡œë“œ ëŒ€ê¸°

    def find_elements(self, by, selector):
        """ìš”ì†Œ ì°¾ê¸° (ì—¬ëŸ¬ ê°œ)"""
        return self.driver.find_elements(by, selector)
```

**ìŠ¤í¬ë˜í•‘ ì˜ˆì‹œ:**
```python
# ë©”ë‰´ ì •ë³´ ìˆ˜ì§‘
menus = driver.find_elements(By.CSS_SELECTOR, 'li.E2jtL')
for li in menus:
    menu_name = li.find_element(By.CSS_SELECTOR, "span.lPzHi").text
    menu_price = li.find_element(By.CSS_SELECTOR, "div.GXS1X em").text
    menu_image = li.find_element(By.CSS_SELECTOR, "img").get_attribute('src')
```

### 5. Image Downloader

ë©”ë‰´ ì´ë¯¸ì§€ ë‹¤ìš´ë¡œë“œ ë° ìµœì í™”

**ì²˜ë¦¬ ê³¼ì •:**
```
1. ì´ë¯¸ì§€ URL ë‹¤ìš´ë¡œë“œ
   â”œâ”€â”€ ë„¤ì´ë²„ CDNì—ì„œ ì´ë¯¸ì§€ ê°€ì ¸ì˜¤ê¸°
   â””â”€â”€ ì„ì‹œ íŒŒì¼ë¡œ ì €ì¥

2. ì´ë¯¸ì§€ ìµœì í™”
   â”œâ”€â”€ Pillow ë¼ì´ë¸ŒëŸ¬ë¦¬ ì‚¬ìš©
   â”œâ”€â”€ ìµœëŒ€ í¬ê¸°: 800x800
   â”œâ”€â”€ JPEG í’ˆì§ˆ: 85%
   â””â”€â”€ íŒŒì¼ í¬ê¸°: í‰ê·  100KB ì´í•˜

3. íŒŒì¼ ì €ì¥
   â””â”€â”€ /media/images/stores/{store_id}/menus/{ìˆœë²ˆ}_{í•´ì‹œ}.jpg
```

**ì½”ë“œ ì˜ˆì‹œ:**
```python
def download_and_save_image(self, image_url, store_id, menu_order):
    # ì´ë¯¸ì§€ ë‹¤ìš´ë¡œë“œ
    response = requests.get(image_url, timeout=10)

    # Pillowë¡œ ìµœì í™”
    image = Image.open(BytesIO(response.content))
    image.thumbnail((800, 800), Image.Resampling.LANCZOS)

    # ì €ì¥
    filename = f"{menu_order}_{random_hash}.jpg"
    filepath = f"/app/media/images/stores/{store_id}/menus/{filename}"
    image.save(filepath, 'JPEG', quality=85, optimize=True)
```

### 6. LLM Summarizer

OpenAI GPT-4o-minië¥¼ í™œìš©í•œ ë¦¬ë·° ìš”ì•½ ìƒì„±

**í”„ë¡¬í”„íŠ¸ êµ¬ì¡°:**
```python
prompt = f"""
ë‹¤ìŒì€ í•œ ìŒì‹ì ì˜ ë©”ë‰´ ëª©ë¡ê³¼ ê³ ê° ë¦¬ë·°ì…ë‹ˆë‹¤. ë©”ë‰´ ì¤‘ì‹¬ìœ¼ë¡œ ì‹¬ì¸µ ë¶„ì„í•´ì£¼ì„¸ìš”.

**ë©”ë‰´ ëª©ë¡:**
- ë¹„ë¹”ëƒ‰ë©´ (12,000ì›) - ëŒ€í‘œ
- ë¬¼ëƒ‰ë©´ (12,000ì›)
- ì œìœ¡ (15,000ì›)

**ì „ì²´ ë¦¬ë·° (ë‚ ì§œ í¬í•¨):**
[2024.03.15] ë¹„ë¹”ëƒ‰ë©´ ë§›ìˆì–´ìš”. ì œìœ¡ë„ ê³ë“¤ì´ë©´ ìµœê³ !
[2024.03.14] ë¬¼ëƒ‰ë©´ ìœ¡ìˆ˜ê°€ ì •ë§ ê¹”ë”í•©ë‹ˆë‹¤...

ë‹¤ìŒ êµ¬ì¡°ë¡œ ë§ˆí¬ë‹¤ìš´ í˜•ì‹ìœ¼ë¡œ ë¶„ì„í•´ì£¼ì„¸ìš”:

# ğŸ½ï¸ ë©”ë‰´ë³„ ë¦¬ë·° ë¶„ì„ ë³´ê³ ì„œ

## ğŸ“Š ì¸ê¸° ë©”ë‰´ TOP 3
ê° ë©”ë‰´ë³„ë¡œ:
- ë¦¬ë·°ì—ì„œ ì–¸ê¸‰ëœ íšŸìˆ˜
- ê³ ê°ë“¤ì´ ì¢‹ì•„í•˜ëŠ” ì´ìœ  (ë§›, ì–‘, ê°€ì„±ë¹„ ë“± êµ¬ì²´ì ìœ¼ë¡œ)
- ëŒ€í‘œ ë¦¬ë·° ì¸ìš©

## ğŸ”¥ ìµœê·¼ íŠ¸ë Œë“œ (ìš”ê·¼ë˜ ì¸ê¸° ë©”ë‰´)
- ë‚ ì§œë¥¼ ë¶„ì„í•˜ì—¬ ìµœê·¼ ê°€ì¥ ë§ì´ ì–¸ê¸‰ë˜ëŠ” ë©”ë‰´
- ì¸ê¸° ìƒìŠ¹ ì´ìœ  ë¶„ì„

## ğŸ¤ ë©”ë‰´ í˜ì–´ë§ ì¶”ì²œ
ë¦¬ë·°ì—ì„œ í•¨ê»˜ ì£¼ë¬¸í–ˆë‹¤ê³  ì–¸ê¸‰ëœ ë©”ë‰´ ì¡°í•©

## â° ì‹œê°„ëŒ€ë³„ ë©”ë‰´ ì„ í˜¸ë„
ë¦¬ë·°ì˜ ë‚ ì§œì™€ ë‚´ìš©ì„ ë°”íƒ•ìœ¼ë¡œ ì¶”ì •

## ğŸ’¡ ë©”ë‰´ ìš´ì˜ ê°œì„  ì œì•ˆ
- ì¶”ê°€í•˜ë©´ ì¢‹ì„ ë©”ë‰´
- ê°œì„ ì´ í•„ìš”í•œ ë©”ë‰´
"""
```

**ë¹„ìš© ìµœì í™”:**
```python
# GPT-4o-mini ì‚¬ìš© (GPT-4 ëŒ€ë¹„ 1/60 ê°€ê²©)
model = "gpt-4o-mini"
max_tokens = 3000
temperature = 0.3  # ì¼ê´€ì„± ìˆëŠ” ë¶„ì„ì„ ìœ„í•´ ë‚®ì€ ê°’

# ì˜ˆìƒ ë¹„ìš© (ë¦¬ë·° 50ê°œ ê¸°ì¤€)
# - ì…ë ¥: ~2,000 í† í° Ã— $0.150/1M = $0.0003
# - ì¶œë ¥: ~2,000 í† í° Ã— $0.600/1M = $0.0012
# - ì´: ~$0.0015 (ì•½ 2ì›)
```

---

## ğŸ’¾ ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ

### ERD (Entity Relationship Diagram)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       stores            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id (PK)                 â”‚â”€â”€â”
â”‚ store_name              â”‚  â”‚
â”‚ store_address           â”‚  â”‚
â”‚ business_number (UNIQUE)â”‚  â”‚
â”‚ owner_name              â”‚  â”‚
â”‚ owner_phone             â”‚  â”‚
â”‚ naver_store_url         â”‚  â”‚
â”‚ store_id                â”‚  â”‚
â”‚                         â”‚  â”‚
â”‚ // ìŠ¤í¬ë˜í•‘ëœ ì •ë³´      â”‚  â”‚
â”‚ scraped_store_name      â”‚  â”‚
â”‚ scraped_category        â”‚  â”‚
â”‚ scraped_description     â”‚  â”‚
â”‚ scraped_store_address   â”‚  â”‚
â”‚ scraped_phone           â”‚  â”‚
â”‚ scraped_intro           â”‚  â”‚
â”‚ scraped_services        â”‚  â”‚
â”‚                         â”‚  â”‚
â”‚ // ìƒíƒœ ê´€ë¦¬            â”‚  â”‚
â”‚ scraping_status         â”‚  â”‚
â”‚ scraping_error_message  â”‚  â”‚
â”‚ created_at              â”‚  â”‚
â”‚ updated_at              â”‚  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
                              â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                     â”‚                     â”‚
        â–¼                     â–¼                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     menus       â”‚  â”‚    reviews      â”‚  â”‚  review_summaries   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id (PK)         â”‚  â”‚ id (PK)         â”‚  â”‚ id (PK)             â”‚
â”‚ store_id (FK)   â”‚  â”‚ store_id (FK)   â”‚  â”‚ store_id (FK)       â”‚
â”‚ menu_name       â”‚  â”‚ content         â”‚  â”‚ summary_md          â”‚
â”‚ price           â”‚  â”‚ review_date     â”‚  â”‚ created_at          â”‚
â”‚ description     â”‚  â”‚ revisit_count   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚ recommendation  â”‚  â”‚ created_at      â”‚
â”‚ image_file_path â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚ image_url       â”‚
â”‚ created_at      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  scraping_tasks     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id (PK)             â”‚
â”‚ store_id (FK)       â”‚
â”‚ task_id (UNIQUE)    â”‚
â”‚ status              â”‚
â”‚ result              â”‚
â”‚ error_message       â”‚
â”‚ created_at          â”‚
â”‚ updated_at          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### í…Œì´ë¸” ìƒì„¸

#### 1. stores (ë§¤ì¥ ì •ë³´)

```sql
CREATE TABLE stores (
    id SERIAL PRIMARY KEY,

    -- ì‚¬ìš©ì ì…ë ¥ ì •ë³´
    store_name VARCHAR(255) NOT NULL,
    store_address VARCHAR(500) NOT NULL,
    business_number VARCHAR(50) NOT NULL UNIQUE,
    owner_name VARCHAR(100) NOT NULL,
    owner_phone VARCHAR(20) NOT NULL,
    naver_store_url VARCHAR(500),
    store_id VARCHAR(50),  -- ë„¤ì´ë²„ ìŠ¤í† ì–´ ID

    -- ìŠ¤í¬ë˜í•‘ëœ ì •ë³´
    scraped_store_name VARCHAR(255),
    scraped_category VARCHAR(100),
    scraped_description TEXT,
    scraped_store_address VARCHAR(500),
    scraped_directions TEXT,
    scraped_phone VARCHAR(20),
    scraped_sns VARCHAR(500),
    scraped_etc_info TEXT,
    scraped_intro TEXT,
    scraped_services TEXT,

    -- ìƒíƒœ ê´€ë¦¬
    scraping_status VARCHAR(50) DEFAULT 'pending',
    -- ìƒíƒœ: pending, in_progress, completed, mismatch, error
    scraping_error_message TEXT,
    created_at TIMESTAMP DEFAULT NOW(),
    updated_at TIMESTAMP DEFAULT NOW()
);

CREATE INDEX idx_stores_business_number ON stores(business_number);
CREATE INDEX idx_stores_store_id ON stores(store_id);
```

#### 2. menus (ë©”ë‰´ ì •ë³´)

```sql
CREATE TABLE menus (
    id SERIAL PRIMARY KEY,
    store_id INTEGER NOT NULL REFERENCES stores(id) ON DELETE CASCADE,
    menu_name VARCHAR(255),
    price VARCHAR(100),
    description TEXT,
    recommendation VARCHAR(100),  -- ì˜ˆ: "ëŒ€í‘œ", "ì¸ê¸°" ë“±
    image_file_path VARCHAR(500),
    image_url VARCHAR(500),
    created_at TIMESTAMP DEFAULT NOW()
);

CREATE INDEX idx_menus_store_id ON menus(store_id);

-- ì˜ˆì‹œ ë°ì´í„°
INSERT INTO menus (store_id, menu_name, price, recommendation, image_file_path)
VALUES (1, 'ë¹„ë¹”ëƒ‰ë©´', '12,000', 'ëŒ€í‘œ', '/media/images/stores/1/menus/1_abc123.jpg');
```

#### 3. reviews (ë¦¬ë·° ì •ë³´)

```sql
CREATE TABLE reviews (
    id SERIAL PRIMARY KEY,
    store_id INTEGER NOT NULL REFERENCES stores(id) ON DELETE CASCADE,
    content TEXT NOT NULL,
    review_date VARCHAR(50),      -- ì˜ˆ: "2024.03.15"
    revisit_count INTEGER DEFAULT 0,
    created_at TIMESTAMP DEFAULT NOW()
);

CREATE INDEX idx_reviews_store_id ON reviews(store_id);

-- ì˜ˆì‹œ ë°ì´í„°
INSERT INTO reviews (store_id, content, review_date, revisit_count)
VALUES (1, 'ë¹„ë¹”ëƒ‰ë©´ ë§›ìˆì–´ìš”!', '2024.03.15', 2);
```

#### 4. review_summaries (AI ìš”ì•½)

```sql
CREATE TABLE review_summaries (
    id SERIAL PRIMARY KEY,
    store_id INTEGER NOT NULL REFERENCES stores(id) ON DELETE CASCADE,
    summary_md TEXT NOT NULL,  -- Markdown í˜•ì‹ì˜ ìš”ì•½
    created_at TIMESTAMP DEFAULT NOW()
);

CREATE INDEX idx_review_summaries_store_id ON review_summaries(store_id);

-- ì˜ˆì‹œ ë°ì´í„°
INSERT INTO review_summaries (store_id, summary_md)
VALUES (1, '# ğŸ½ï¸ ë©”ë‰´ë³„ ë¦¬ë·° ë¶„ì„ ë³´ê³ ì„œ\n\n## ğŸ“Š ì¸ê¸° ë©”ë‰´ TOP 3...');
```

#### 5. scraping_tasks (ìŠ¤í¬ë˜í•‘ ì‘ì—… ì´ë ¥)

```sql
CREATE TABLE scraping_tasks (
    id SERIAL PRIMARY KEY,
    store_id INTEGER NOT NULL REFERENCES stores(id) ON DELETE CASCADE,
    task_id VARCHAR(255) UNIQUE,  -- Celery íƒœìŠ¤í¬ ID
    status VARCHAR(50) DEFAULT 'pending',
    -- ìƒíƒœ: pending, started, success, failure
    result TEXT,
    error_message TEXT,
    created_at TIMESTAMP DEFAULT NOW(),
    updated_at TIMESTAMP DEFAULT NOW()
);

CREATE INDEX idx_scraping_tasks_store_id ON scraping_tasks(store_id);
CREATE INDEX idx_scraping_tasks_task_id ON scraping_tasks(task_id);
```

### ë°ì´í„° ì˜ˆì‹œ

**ë§¤ì¥ ë“±ë¡ í›„ ìŠ¤í¬ë˜í•‘ ì™„ë£Œ ìƒíƒœ:**

```sql
-- stores í…Œì´ë¸”
id | store_name | store_address           | scraped_store_name | scraping_status
---+------------+-------------------------+--------------------+-----------------
1  | ë¼ìì˜¥     | ì„œìš¸ ì†¡íŒŒêµ¬ ë§ˆì²œë¡œ...   | ë¼ìì˜¥             | completed

-- menus í…Œì´ë¸”
id | store_id | menu_name   | price   | recommendation
---+----------+-------------+---------+----------------
1  | 1        | ë¹„ë¹”ëƒ‰ë©´    | 12,000  | ëŒ€í‘œ
2  | 1        | ë¬¼ëƒ‰ë©´      | 12,000  |
3  | 1        | ì œìœ¡        | 15,000  |

-- reviews í…Œì´ë¸”
id | store_id | content                          | review_date | revisit_count
---+----------+----------------------------------+-------------+--------------
1  | 1        | ë¹„ë¹”ëƒ‰ë©´ ë§›ìˆì–´ìš”!                | 2024.03.15  | 2
2  | 1        | ì œìœ¡ì´ ë¶€ë“œëŸ½ê³  ì¢‹ìŠµë‹ˆë‹¤          | 2024.03.14  | 1

-- review_summaries í…Œì´ë¸”
id | store_id | summary_md                                    | created_at
---+----------+-----------------------------------------------+-------------------
1  | 1        | # ğŸ½ï¸ ë©”ë‰´ë³„ ë¦¬ë·° ë¶„ì„ ë³´ê³ ì„œ\n\n...        | 2024-03-15 10:00:00
```

---

## ğŸ“¡ API ë¬¸ì„œ

### Web Server API

#### ë§¤ì¥ ê´€ë¦¬

**1. ë§¤ì¥ ë“±ë¡**
```http
POST /api/stores/register
Content-Type: application/x-www-form-urlencoded

store_name=ë¼ìì˜¥
store_address=ì„œìš¸ ì†¡íŒŒêµ¬ ë§ˆì²œë¡œ51ê°€ê¸¸ 33
business_number=123-45-67890
owner_name=í™ê¸¸ë™
owner_phone=010-1234-5678
naver_store_url=https://naver.me/xxxxx

Response 201:
{
  "message": "ë§¤ì¥ì´ ì„±ê³µì ìœ¼ë¡œ ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤.",
  "store_id": 1,
  "naver_store_id": "1234567890"
}
```

**2. ë§¤ì¥ ëª©ë¡ ì¡°íšŒ**
```http
GET /api/stores

Response 200:
[
  {
    "id": 1,
    "store_name": "ë¼ìì˜¥",
    "store_address": "ì„œìš¸ ì†¡íŒŒêµ¬ ë§ˆì²œë¡œ51ê°€ê¸¸ 33",
    "scraping_status": "completed",
    "created_at": "2024-03-15T10:00:00"
  }
]
```

**3. ë§¤ì¥ ìƒì„¸ ì¡°íšŒ**
```http
GET /api/stores/1/detail

Response 200:
{
  "store_info": {
    "id": 1,
    "store_name": "ë¼ìì˜¥",
    "scraped_category": "ëƒ‰ë©´",
    "scraped_phone": "02-1234-5678",
    "scraping_status": "completed"
  },
  "menus": [
    {
      "id": 1,
      "menu_name": "ë¹„ë¹”ëƒ‰ë©´",
      "price": "12,000",
      "recommendation": "ëŒ€í‘œ",
      "image_url": "/media/images/stores/1/menus/1_abc123.jpg"
    }
  ],
  "menu_count": 9,
  "reviews": [
    {
      "id": 1,
      "content": "ë¹„ë¹”ëƒ‰ë©´ ë§›ìˆì–´ìš”!",
      "review_date": "2024.03.15",
      "revisit_count": 2
    }
  ],
  "review_count": 48,
  "summary": "# ğŸ½ï¸ ë©”ë‰´ë³„ ë¦¬ë·° ë¶„ì„ ë³´ê³ ì„œ...",
  "summary_status": "completed"
}
```

**4. ë§¤ì¥ ì‚­ì œ**
```http
DELETE /api/stores/1

Response 200:
{
  "message": "ë§¤ì¥ 'ë¼ìì˜¥'ì´(ê°€) ì„±ê³µì ìœ¼ë¡œ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.",
  "deleted_store_id": 1
}
```

### Scraping Server API

#### ìŠ¤í¬ë˜í•‘ ì‘ì—…

**1. ìŠ¤í¬ë˜í•‘ ì‹œì‘**
```http
POST /api/scraping/start
Content-Type: application/json

{
  "store_id": 1
}

Response 200:
{
  "task_id": "abc123-def456-ghi789",
  "status": "started",
  "message": "ìŠ¤í¬ë˜í•‘ì´ ì‹œì‘ë˜ì—ˆìŠµë‹ˆë‹¤."
}
```

**2. íƒœìŠ¤í¬ ìƒíƒœ ì¡°íšŒ**
```http
GET /api/scraping/status/abc123-def456-ghi789

Response 200 (ì§„í–‰ ì¤‘):
{
  "task_id": "abc123-def456-ghi789",
  "status": "in_progress",
  "progress": 60
}

Response 200 (ì™„ë£Œ):
{
  "task_id": "abc123-def456-ghi789",
  "status": "completed",
  "result": {
    "store_id": 1,
    "status": "completed",
    "menu_count": 9,
    "review_count": 48
  }
}
```

#### ë°ì´í„° ì¡°íšŒ

**3. ë©”ë‰´ ëª©ë¡ ì¡°íšŒ**
```http
GET /api/scraping/store/1/menus?skip=0&limit=100

Response 200:
{
  "store_id": 1,
  "menus": [
    {
      "id": 1,
      "menu_name": "ë¹„ë¹”ëƒ‰ë©´",
      "price": "12,000",
      "description": "",
      "recommendation": "ëŒ€í‘œ",
      "image_url": "/media/images/stores/1/menus/1_abc123.jpg",
      "created_at": "2024-03-15T10:00:00"
    }
  ],
  "total": 9
}
```

**4. ë¦¬ë·° ëª©ë¡ ì¡°íšŒ**
```http
GET /api/scraping/store/1/reviews?skip=0&limit=50

Response 200:
{
  "store_id": 1,
  "reviews": [
    {
      "id": 1,
      "content": "ë¹„ë¹”ëƒ‰ë©´ ë§›ìˆì–´ìš”!",
      "review_date": "2024.03.15",
      "revisit_count": 2,
      "created_at": "2024-03-15T10:00:00"
    }
  ],
  "total": 48
}
```

**5. AI ìš”ì•½ ì¡°íšŒ**
```http
GET /api/scraping/store/1/summary

Response 200:
{
  "store_id": 1,
  "summary": "# ğŸ½ï¸ ë©”ë‰´ë³„ ë¦¬ë·° ë¶„ì„ ë³´ê³ ì„œ\n\n## ğŸ“Š ì¸ê¸° ë©”ë‰´ TOP 3...",
  "created_at": "2024-03-15T10:30:00",
  "status": "completed"
}
```

**6. AI ìš”ì•½ ì¬ìƒì„±**
```http
POST /api/scraping/store/1/summary/regenerate

Response 200:
{
  "task_id": "xyz789-abc123-def456",
  "message": "ë¦¬ë·° ìš”ì•½ ì¬ìƒì„±ì´ ì‹œì‘ë˜ì—ˆìŠµë‹ˆë‹¤.",
  "store_id": 1
}
```

### ì—ëŸ¬ ì‘ë‹µ

```http
Response 400 (ì˜ëª»ëœ ìš”ì²­):
{
  "detail": "ì˜¬ë°”ë¥¸ ë„¤ì´ë²„ ìŠ¤í† ì–´ URLì„ ì…ë ¥í•´ì£¼ì„¸ìš”."
}

Response 404 (ì°¾ì„ ìˆ˜ ì—†ìŒ):
{
  "detail": "ë§¤ì¥ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤."
}

Response 500 (ì„œë²„ ì˜¤ë¥˜):
{
  "detail": "ë“±ë¡ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤: ..."
}

Response 503 (ì„œë¹„ìŠ¤ ì‚¬ìš© ë¶ˆê°€):
{
  "detail": "ìŠ¤í¬ë˜í•‘ ì„œë²„ì— ì—°ê²°í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤."
}
```

---

## ğŸš€ ì„¤ì¹˜ ë° ì‹¤í–‰

### ì‚¬ì „ ìš”êµ¬ì‚¬í•­

```
âœ… Docker 24.0 ì´ìƒ
âœ… Docker Compose 2.20 ì´ìƒ
âœ… 8GB ì´ìƒ RAM
âœ… 10GB ì´ìƒ ë””ìŠ¤í¬ ê³µê°„
```

### 1ë‹¨ê³„: í”„ë¡œì íŠ¸ í´ë¡  ë° í™˜ê²½ ì„¤ì •

```bash
# í”„ë¡œì íŠ¸ ë””ë ‰í† ë¦¬ë¡œ ì´ë™
cd /home/wk/projects/wafl

# .env íŒŒì¼ ì„¤ì •
cat > .env << 'EOF'
# OpenAI API í‚¤ (ì„ íƒì‚¬í•­)
OPENAI_API_KEY=sk-proj-xxxxxxxxxxxxxxxxxxxxx

# ë°ì´í„°ë² ì´ìŠ¤ ì„¤ì •
DATABASE_URL=postgresql://wafl_user:wafl_password@wafl-postgresql:5432/wafl_db
REDIS_URL=redis://wafl-redis:6379/0

# ì„œë¹„ìŠ¤ í¬íŠ¸
WEB_SERVER_PORT=58000
SCRAPING_SERVER_PORT=58001
API_GATEWAY_PORT=50080
POSTGRES_PORT=55432
REDIS_PORT=56379

# ìŠ¤í¬ë˜í•‘ ì„œë²„ URL (ì»¨í…Œì´ë„ˆ ë‚´ë¶€ í†µì‹ ìš©)
SCRAPING_SERVER_URL=http://wafl-scraping-server:8001
EOF
```

### 2ë‹¨ê³„: Docker Compose ì‹¤í–‰

```bash
# ì»¨í…Œì´ë„ˆ ë¹Œë“œ ë° ì‹œì‘
docker compose up -d --build

# ë¡œê·¸ í™•ì¸
docker compose logs -f

# íŠ¹ì • ì„œë¹„ìŠ¤ ë¡œê·¸ë§Œ í™•ì¸
docker compose logs -f wafl-web-server
docker compose logs -f wafl-scraping-worker
```

### 3ë‹¨ê³„: ì„œë¹„ìŠ¤ ìƒíƒœ í™•ì¸

```bash
# ëª¨ë“  ì»¨í…Œì´ë„ˆ ì‹¤í–‰ í™•ì¸
docker compose ps

# ì˜ˆìƒ ì¶œë ¥:
# NAME                   STATUS
# wafl-api-gateway       Up
# wafl-web-server        Up
# wafl-scraping-server   Up
# wafl-scraping-worker   Up
# wafl-postgresql        Up
# wafl-redis             Up

# í—¬ìŠ¤ì²´í¬
curl http://localhost:50080/health
curl http://localhost:58000/health
curl http://localhost:58001/health
```

### 4ë‹¨ê³„: ë°ì´í„°ë² ì´ìŠ¤ ì´ˆê¸°í™” í™•ì¸

```bash
# PostgreSQL ì ‘ì†
PGPASSWORD=wafl_password psql -h localhost -p 55432 -U wafl_user -d wafl_db

# í…Œì´ë¸” í™•ì¸
\dt

# ì˜ˆìƒ ì¶œë ¥:
#              List of relations
#  Schema |      Name        | Type  |   Owner
# --------+------------------+-------+-----------
#  public | stores           | table | wafl_user
#  public | menus            | table | wafl_user
#  public | reviews          | table | wafl_user
#  public | review_summaries | table | wafl_user
#  public | scraping_tasks   | table | wafl_user
```

### 5ë‹¨ê³„: ì›¹ ì¸í„°í˜ì´ìŠ¤ ì ‘ì†

```bash
# ë¸Œë¼ìš°ì €ì—ì„œ ì ‘ì†
http://localhost:50080            # API Gatewayë¥¼ í†µí•œ ì ‘ì† (ê¶Œì¥)
http://localhost:58000            # Web Server ì§ì ‘ ì ‘ì†
http://localhost:58001            # Scraping Server ì§ì ‘ ì ‘ì†
```

---

## ğŸ“– ì‚¬ìš© ê°€ì´ë“œ

### 1. ë§¤ì¥ ë“±ë¡í•˜ê¸°

**ì›¹ ì¸í„°í˜ì´ìŠ¤ ì‚¬ìš©:**

1. ë¸Œë¼ìš°ì €ì—ì„œ `http://localhost:50080` ì ‘ì†
2. "ë§¤ì¥ ë“±ë¡" ë²„íŠ¼ í´ë¦­
3. í¼ ì…ë ¥:
   ```
   ë§¤ì¥ëª…: ë¼ìì˜¥
   ì£¼ì†Œ: ì„œìš¸ ì†¡íŒŒêµ¬ ë§ˆì²œë¡œ51ê°€ê¸¸ 33 1ì¸µ 1í˜¸
   ì‚¬ì—…ìë“±ë¡ë²ˆí˜¸: 123-45-67890
   ëŒ€í‘œìëª…: í™ê¸¸ë™
   ëŒ€í‘œì ì—°ë½ì²˜: 010-1234-5678
   ë„¤ì´ë²„ ìŠ¤í† ì–´ URL: https://naver.me/xxxxx
   ```
4. "ë“±ë¡í•˜ê¸°" í´ë¦­

**API ì‚¬ìš©:**

```bash
curl -X POST "http://localhost:50080/api/stores/register" \
  -H "Content-Type: application/x-www-form-urlencoded" \
  -d "store_name=ë¼ìì˜¥" \
  -d "store_address=ì„œìš¸ ì†¡íŒŒêµ¬ ë§ˆì²œë¡œ51ê°€ê¸¸ 33" \
  -d "business_number=123-45-67890" \
  -d "owner_name=í™ê¸¸ë™" \
  -d "owner_phone=010-1234-5678" \
  -d "naver_store_url=https://naver.me/xxxxx"
```

### 2. ìŠ¤í¬ë˜í•‘ ì‹¤í–‰í•˜ê¸°

**ì›¹ ì¸í„°í˜ì´ìŠ¤:**

1. ëŒ€ì‹œë³´ë“œ ì ‘ì†: `http://localhost:50080/dashboard`
2. ë§¤ì¥ ì¹´ë“œì—ì„œ "ìŠ¤í¬ë˜í•‘ ì‹œì‘" ë²„íŠ¼ í´ë¦­
3. ì§„í–‰ ìƒíƒœ ì‹¤ì‹œê°„ í™•ì¸ (10ì´ˆë§ˆë‹¤ ìë™ ê°±ì‹ )

**API ì‚¬ìš©:**

```bash
# ìŠ¤í¬ë˜í•‘ ì‹œì‘
TASK_ID=$(curl -X POST "http://localhost:50080/api/scraping/start" \
  -H "Content-Type: application/x-www-form-urlencoded" \
  -d "store_id=1" | jq -r '.task_id')

echo "Task ID: $TASK_ID"

# ì§„í–‰ ìƒíƒœ í™•ì¸
while true; do
  STATUS=$(curl -s "http://localhost:58001/api/scraping/status/$TASK_ID" | jq -r '.status')
  echo "Status: $STATUS"

  if [ "$STATUS" == "completed" ]; then
    echo "ìŠ¤í¬ë˜í•‘ ì™„ë£Œ!"
    break
  elif [ "$STATUS" == "failed" ]; then
    echo "ìŠ¤í¬ë˜í•‘ ì‹¤íŒ¨!"
    break
  fi

  sleep 5
done
```

**ì˜ˆìƒ ì†Œìš” ì‹œê°„:**
```
ë§¤ì¥ ê¸°ë³¸ ì •ë³´: ì•½ 5ì´ˆ
ë©”ë‰´ ìˆ˜ì§‘ (10ê°œ): ì•½ 15ì´ˆ
ë¦¬ë·° ìˆ˜ì§‘ (50ê°œ): ì•½ 30ì´ˆ
AI ìš”ì•½ ìƒì„±: ì•½ 20ì´ˆ
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ì´: ì•½ 1ë¶„ 10ì´ˆ
```

### 3. ìŠ¤í¬ë˜í•‘ ê²°ê³¼ í™•ì¸í•˜ê¸°

**ë§¤ì¥ ìƒì„¸ í˜ì´ì§€:**

```bash
# ë¸Œë¼ìš°ì €ì—ì„œ ì ‘ì†
http://localhost:50080/store/1/detail
```

**íƒ­ë³„ ì •ë³´:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [ë§¤ì¥ ì •ë³´] [ë©”ë‰´] [ë¦¬ë·°] [AI ìš”ì•½]        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                              â”‚
â”‚  ë§¤ì¥ ì •ë³´ íƒ­:                               â”‚
â”‚  â”œâ”€â”€ ê¸°ë³¸ ì •ë³´ (ì´ë¦„, ì£¼ì†Œ, ì „í™”ë²ˆí˜¸)        â”‚
â”‚  â”œâ”€â”€ ë“±ë¡ ì •ë³´ (ì‚¬ì—…ìë²ˆí˜¸, ëŒ€í‘œì)          â”‚
â”‚  â”œâ”€â”€ ë§¤ì¥ ì†Œê°œ                               â”‚
â”‚  â””â”€â”€ ì œê³µ ì„œë¹„ìŠ¤                             â”‚
â”‚                                              â”‚
â”‚  ë©”ë‰´ íƒ­:                                    â”‚
â”‚  â””â”€â”€ ê·¸ë¦¬ë“œ í˜•íƒœë¡œ ë©”ë‰´ ì¹´ë“œ í‘œì‹œ            â”‚
â”‚      â”œâ”€â”€ ë©”ë‰´ ì´ë¯¸ì§€                         â”‚
â”‚      â”œâ”€â”€ ë©”ë‰´ëª…                              â”‚
â”‚      â”œâ”€â”€ ê°€ê²©                                â”‚
â”‚      â””â”€â”€ ì„¤ëª…                                â”‚
â”‚                                              â”‚
â”‚  ë¦¬ë·° íƒ­:                                    â”‚
â”‚  â””â”€â”€ ë¦¬ìŠ¤íŠ¸ í˜•íƒœë¡œ ë¦¬ë·° í‘œì‹œ (ìµœëŒ€ 50ê°œ)     â”‚
â”‚      â”œâ”€â”€ ì‘ì„± ë‚ ì§œ                           â”‚
â”‚      â”œâ”€â”€ ë¦¬ë·° ë‚´ìš©                           â”‚
â”‚      â””â”€â”€ ì¬ë°©ë¬¸ íšŸìˆ˜                         â”‚
â”‚                                              â”‚
â”‚  AI ìš”ì•½ íƒ­:                                 â”‚
â”‚  â””â”€â”€ ë§ˆí¬ë‹¤ìš´ í˜•ì‹ìœ¼ë¡œ ìš”ì•½ í‘œì‹œ             â”‚
â”‚      â”œâ”€â”€ ì¸ê¸° ë©”ë‰´ TOP 3                     â”‚
â”‚      â”œâ”€â”€ ìµœê·¼ íŠ¸ë Œë“œ                         â”‚
â”‚      â”œâ”€â”€ ë©”ë‰´ í˜ì–´ë§ ì¶”ì²œ                    â”‚
â”‚      â”œâ”€â”€ ì‹œê°„ëŒ€ë³„ ì„ í˜¸ë„                     â”‚
â”‚      â””â”€â”€ ìš´ì˜ ê°œì„  ì œì•ˆ                      â”‚
â”‚                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4. AI ìš”ì•½ ì „ì²´ í˜ì´ì§€

```bash
# ë¸Œë¼ìš°ì €ì—ì„œ ì ‘ì†
http://localhost:50080/store/1/summary
```

**ê¸°ëŠ¥:**
- ğŸ“„ ì „ì²´ í™”ë©´ìœ¼ë¡œ AI ìš”ì•½ í‘œì‹œ
- ğŸ”„ ìš”ì•½ ì¬ìƒì„± ë²„íŠ¼
- ğŸ“… ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸ ì‹œê°„ í‘œì‹œ
- ğŸ¨ ë§ˆí¬ë‹¤ìš´ ë Œë”ë§ (ì œëª©, ë¦¬ìŠ¤íŠ¸, ê°•ì¡° ë“±)

### 5. ìš”ì•½ ì¬ìƒì„±í•˜ê¸°

**ì–¸ì œ ì¬ìƒì„±ì´ í•„ìš”í•œê°€ìš”?**
- ìƒˆë¡œìš´ ë¦¬ë·°ê°€ ë§ì´ ì¶”ê°€ë˜ì—ˆì„ ë•Œ
- ë©”ë‰´ê°€ ë³€ê²½ë˜ì—ˆì„ ë•Œ
- ë¶„ì„ ê²°ê³¼ê°€ ìµœì‹  íŠ¸ë Œë“œë¥¼ ë°˜ì˜í•˜ì§€ ëª»í•  ë•Œ

**ì¬ìƒì„± ë°©ë²•:**

```bash
# ì›¹ ì¸í„°í˜ì´ìŠ¤
1. ìš”ì•½ í˜ì´ì§€ ì ‘ì†: http://localhost:50080/store/1/summary
2. "ğŸ”„ ìš”ì•½ ì¬ìƒì„±" ë²„íŠ¼ í´ë¦­
3. ì•½ 20ì´ˆ ëŒ€ê¸°
4. ìë™ ìƒˆë¡œê³ ì¹¨

# API ì‚¬ìš©
curl -X POST "http://localhost:50080/api/scraping/store/1/summary/regenerate"
```

### 6. ë§¤ì¥ ì‚­ì œí•˜ê¸°

**ì£¼ì˜:** CASCADE ì„¤ì •ìœ¼ë¡œ ë©”ë‰´, ë¦¬ë·°, ìš”ì•½ë„ í•¨ê»˜ ì‚­ì œë©ë‹ˆë‹¤.

```bash
# ì›¹ ì¸í„°í˜ì´ìŠ¤
1. ëŒ€ì‹œë³´ë“œ ì ‘ì†
2. ë§¤ì¥ ì¹´ë“œì—ì„œ "ì‚­ì œ" ë²„íŠ¼ í´ë¦­
3. í™•ì¸ ëŒ€í™”ìƒìì—ì„œ "í™•ì¸"

# API ì‚¬ìš©
curl -X DELETE "http://localhost:50080/api/stores/1"
```

---

## ğŸ› ï¸ ë¬¸ì œ í•´ê²°

### ì¼ë°˜ì ì¸ ë¬¸ì œ

#### 1. ì»¨í…Œì´ë„ˆê°€ ì‹œì‘ë˜ì§€ ì•ŠìŒ

**ì¦ìƒ:**
```bash
docker compose ps
# NAME                 STATUS
# wafl-web-server      Exit 1
```

**ì›ì¸:**
- í¬íŠ¸ ì¶©ëŒ
- í™˜ê²½ ë³€ìˆ˜ ë¯¸ì„¤ì •
- ì´ë¯¸ì§€ ë¹Œë“œ ì‹¤íŒ¨

**í•´ê²°:**
```bash
# 1. í¬íŠ¸ ì‚¬ìš© í™•ì¸
netstat -tuln | grep -E '50080|58000|58001|55432|56379'

# 2. ë¡œê·¸ í™•ì¸
docker compose logs wafl-web-server

# 3. ì»¨í…Œì´ë„ˆ ì¬ì‹œì‘
docker compose down
docker compose up -d --build

# 4. .env íŒŒì¼ í™•ì¸
cat .env
```

#### 2. ìŠ¤í¬ë˜í•‘ì´ ì‹¤íŒ¨í•¨

**ì¦ìƒ:**
```
scraping_status: error
scraping_error_message: "..."
```

**ê°€ëŠ¥í•œ ì›ì¸:**

**A. ë„¤ì´ë²„ ìŠ¤í† ì–´ IDê°€ ì˜ëª»ë¨**
```bash
# í•´ê²°: URL í™•ì¸
# ì˜¬ë°”ë¥¸ URL í˜•ì‹:
https://m.place.naver.com/restaurant/1234567890/home
https://naver.me/xxxxx (ìë™ ë¦¬ë‹¤ì´ë ‰íŠ¸)

# ì˜ëª»ëœ URL:
https://blog.naver.com/...
```

**B. Selenium ë“œë¼ì´ë²„ ì˜¤ë¥˜**
```bash
# ë¡œê·¸ í™•ì¸
docker compose logs wafl-scraping-worker | grep -i error

# Chrome ë²„ì „ í™•ì¸
docker compose exec wafl-scraping-worker google-chrome --version
docker compose exec wafl-scraping-worker chromedriver --version

# ë²„ì „ ë¶ˆì¼ì¹˜ ì‹œ ì¬ë¹Œë“œ
docker compose build wafl-scraping-worker --no-cache
```

**C. ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜**
```bash
# ì»¨í…Œì´ë„ˆ ë‚´ë¶€ì—ì„œ ë„¤ì´ë²„ ì ‘ì† í…ŒìŠ¤íŠ¸
docker compose exec wafl-scraping-worker curl -I https://m.place.naver.com

# DNS ë¬¸ì œ ì‹œ /etc/hosts ìˆ˜ì • ë˜ëŠ” Docker DNS ì„¤ì •
```

#### 3. OpenAI API ì˜¤ë¥˜

**ì¦ìƒ:**
```
OpenAI API í˜¸ì¶œ ì‹¤íŒ¨
```

**ì›ì¸ ë° í•´ê²°:**

**A. API í‚¤ ì˜¤ë¥˜**
```bash
# ë¡œê·¸ í™•ì¸
docker compose logs wafl-scraping-worker | grep -i openai

# ì¼ë°˜ì ì¸ ì˜¤ë¥˜:
# - "Incorrect API key provided"
# - "You exceeded your current quota"
# - "Rate limit reached"

# .env íŒŒì¼ í™•ì¸
grep OPENAI_API_KEY .env

# API í‚¤ ìœ íš¨ì„± í™•ì¸
curl https://api.openai.com/v1/models \
  -H "Authorization: Bearer $OPENAI_API_KEY"

# í¬ë ˆë”§ í™•ì¸
# https://platform.openai.com/account/usage
```

**B. í¬ë ˆë”§ ë¶€ì¡±**
```bash
# ê¸°ë³¸ ìš”ì•½ ëª¨ë“œë¡œ ì „í™˜ (OpenAI API ì—†ì´)
# llm_summarizer.pyì—ì„œ ìë™ìœ¼ë¡œ fallbackë¨

# ë¡œê·¸ì—ì„œ í™•ì¸:
# "OpenAI API í‚¤ê°€ ì„¤ì •ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. ìš”ì•½ ê¸°ëŠ¥ì´ ì œí•œë©ë‹ˆë‹¤."
```

#### 4. ë©”ë‰´ ì´ë¯¸ì§€ê°€ í‘œì‹œë˜ì§€ ì•ŠìŒ

**ì¦ìƒ:**
- ë©”ë‰´ ì¹´ë“œì— ì´ë¯¸ì§€ê°€ ê¹¨ì ¸ ë³´ì„
- 404 Not Found ì˜¤ë¥˜

**ì›ì¸:**
- ì´ë¯¸ì§€ ë‹¤ìš´ë¡œë“œ ì‹¤íŒ¨
- íŒŒì¼ ê¶Œí•œ ë¬¸ì œ
- Nginx ì„¤ì • ì˜¤ë¥˜

**í•´ê²°:**
```bash
# 1. ì´ë¯¸ì§€ íŒŒì¼ í™•ì¸
ls -la media/images/stores/1/menus/

# 2. íŒŒì¼ ê¶Œí•œ í™•ì¸ ë° ìˆ˜ì •
sudo chown -R 1000:1000 media/
sudo chmod -R 755 media/

# 3. Nginx ë¡œê·¸ í™•ì¸
docker compose logs wafl-api-gateway | grep -E '404|403'

# 4. ì´ë¯¸ì§€ URL í™•ì¸
curl -I http://localhost:50080/media/images/stores/1/menus/1_abc123.jpg
```

#### 5. ëŒ€ì‹œë³´ë“œê°€ ë¡œë”©ë˜ì§€ ì•ŠìŒ

**ì¦ìƒ:**
- ë¹ˆ í˜ì´ì§€ ë˜ëŠ” ë¬´í•œ ë¡œë”©

**ì›ì¸:**
- API ì„œë²„ ì‘ë‹µ ì—†ìŒ
- CORS ì˜¤ë¥˜
- JavaScript ì˜¤ë¥˜

**í•´ê²°:**
```bash
# 1. ë¸Œë¼ìš°ì € ê°œë°œì ë„êµ¬ (F12) í™•ì¸
#    - Console íƒ­: JavaScript ì˜¤ë¥˜
#    - Network íƒ­: API í˜¸ì¶œ ì‹¤íŒ¨ í™•ì¸

# 2. API ì§ì ‘ í˜¸ì¶œ í…ŒìŠ¤íŠ¸
curl http://localhost:50080/api/stores

# 3. ì„œë²„ ë¡œê·¸ í™•ì¸
docker compose logs wafl-web-server

# 4. í”„ë¡ì‹œ ì„¤ì • í™•ì¸
docker compose exec wafl-web-server env | grep SCRAPING_SERVER_URL
```

### ê³ ê¸‰ ë¬¸ì œ í•´ê²°

#### Celery íƒœìŠ¤í¬ê°€ ì‹¤í–‰ë˜ì§€ ì•ŠìŒ

```bash
# 1. Redis ì—°ê²° í™•ì¸
docker compose exec wafl-scraping-worker redis-cli -h wafl-redis ping
# ì˜ˆìƒ ì¶œë ¥: PONG

# 2. Celery ì›Œì»¤ ìƒíƒœ í™•ì¸
docker compose exec wafl-scraping-worker celery -A celery_app.celery inspect active

# 3. íƒœìŠ¤í¬ í í™•ì¸
docker compose exec wafl-redis redis-cli
> LLEN celery
> LRANGE celery 0 -1

# 4. ì›Œì»¤ ì¬ì‹œì‘
docker compose restart wafl-scraping-worker
```

#### ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ì˜¤ë¥˜

```bash
# 1. PostgreSQL ìƒíƒœ í™•ì¸
docker compose exec wafl-postgresql pg_isready -U wafl_user

# 2. ì—°ê²° í…ŒìŠ¤íŠ¸
docker compose exec wafl-web-server python3 << 'EOF'
from database import engine
try:
    conn = engine.connect()
    print("âœ… ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ì„±ê³µ")
    conn.close()
except Exception as e:
    print(f"âŒ ì—°ê²° ì‹¤íŒ¨: {e}")
EOF

# 3. ë°ì´í„°ë² ì´ìŠ¤ ë¡œê·¸ í™•ì¸
docker compose logs wafl-postgresql | tail -50
```

---

## ğŸ” ê°œë°œ ê³¼ì •ì—ì„œ í•´ê²°í•œ ì£¼ìš” ë¬¸ì œ

### 1. ë©”ë‰´ëª… í‘œì‹œ ì˜¤ë¥˜ (2024-10-04)

**ë¬¸ì œ:**
- ì›¹ í˜ì´ì§€ì—ì„œ ë©”ë‰´ëª…ì´ í‘œì‹œë˜ì§€ ì•ŠìŒ
- DBì—ëŠ” ì •ìƒì ìœ¼ë¡œ ì €ì¥ë˜ì–´ ìˆìŒ

**ì›ì¸:**
```javascript
// store_detail.html (ì˜ëª»ëœ ì½”ë“œ)
menu.name  // âŒ undefined

// ì‹¤ì œ API ì‘ë‹µ
{
  "menu_name": "ë¹„ë¹”ëƒ‰ë©´",  // âœ… ì˜¬ë°”ë¥¸ í•„ë“œëª…
  "price": "12,000"
}
```

**í•´ê²°:**
```javascript
// ìˆ˜ì •ëœ ì½”ë“œ
menu.menu_name  // âœ… ì˜¬ë°”ë¥¸ ì ‘ê·¼
```

**êµí›ˆ:**
- API ìŠ¤í‚¤ë§ˆì™€ í”„ë¡ íŠ¸ì—”ë“œ ì½”ë“œì˜ ì¼ê´€ì„± ì¤‘ìš”
- íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ ë„ì… ì‹œ ì´ëŸ° ì˜¤ë¥˜ ë°©ì§€ ê°€ëŠ¥

### 2. ìš”ì•½ API í”„ë¡ì‹œ ëˆ„ë½ (2024-10-04)

**ë¬¸ì œ:**
- summary.htmlì—ì„œ `/api/scraping/store/{store_id}/summary` í˜¸ì¶œ
- Web Serverì— í•´ë‹¹ ì—”ë“œí¬ì¸íŠ¸ ì—†ìŒ â†’ 404 ì˜¤ë¥˜

**ì›ì¸:**
- Web Serverê°€ Scraping Serverì˜ í”„ë¡ì‹œ ì—­í• ì„ í•´ì•¼ í•˜ëŠ”ë° ì—”ë“œí¬ì¸íŠ¸ ëˆ„ë½

**í•´ê²°:**
```python
# web-server/main.pyì— ì¶”ê°€
@app.get("/api/scraping/store/{store_id}/summary")
async def get_store_summary_proxy(store_id: int):
    """ë§¤ì¥ ë¦¬ë·° ìš”ì•½ ì¡°íšŒ API (ìŠ¤í¬ë˜í•‘ ì„œë²„ë¡œ í”„ë¡ì‹œ)"""
    scraping_server_url = os.getenv("SCRAPING_SERVER_URL")
    response = requests.get(f"{scraping_server_url}/api/scraping/store/{store_id}/summary")
    return response.json()
```

**êµí›ˆ:**
- ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ì•„í‚¤í…ì²˜ì—ì„œ API Gateway/Proxy ì„¤ê³„ ì¤‘ìš”
- í”„ë¡ íŠ¸ì—”ë“œì™€ ë°±ì—”ë“œ ê°„ API ê³„ì•½(Contract) ëª…í™•íˆ ì •ì˜

### 3. OpenAI API ê¸°ë³¸ ìš”ì•½ ë¬¸ì œ (2024-10-04)

**ë¬¸ì œ:**
- API í‚¤ëŠ” ì„¤ì •ë˜ì–´ ìˆìœ¼ë‚˜ ê¸°ë³¸ í†µê³„ ìš”ì•½ë§Œ ìƒì„±ë¨
- ìƒì„¸í•œ LLM ìš”ì•½ì´ ìƒì„±ë˜ì§€ ì•ŠìŒ

**ì›ì¸:**
- ì´ˆê¸° ìŠ¤í¬ë˜í•‘ ì‹œ OpenAI API í‚¤ê°€ í™˜ê²½ë³€ìˆ˜ë¡œ ì „ë‹¬ë˜ì§€ ì•ŠìŒ
- Celery Workerê°€ API í‚¤ë¥¼ ì½ì§€ ëª»í•¨

**í•´ê²°:**
```yaml
# docker-compose.yml
wafl-scraping-worker:
  environment:
    - OPENAI_API_KEY=${OPENAI_API_KEY}  # âœ… ì¶”ê°€
```

**êµí›ˆ:**
- Docker Compose í™˜ê²½ë³€ìˆ˜ ì£¼ì… ì£¼ì˜
- Celery WorkerëŠ” ë³„ë„ í”„ë¡œì„¸ìŠ¤ì´ë¯€ë¡œ ëª…ì‹œì  í™˜ê²½ë³€ìˆ˜ ì „ë‹¬ í•„ìš”

### 4. ì´ë¯¸ì§€ ìµœì í™” ë° ì €ì¥ (ê°œë°œ ì´ˆê¸°)

**ë¬¸ì œ:**
- ë„¤ì´ë²„ì—ì„œ ë‹¤ìš´ë¡œë“œí•œ ì´ë¯¸ì§€ê°€ ë„ˆë¬´ í¼ (1-2MB)
- í˜ì´ì§€ ë¡œë”© ì†ë„ ì €í•˜

**í•´ê²°:**
```python
# image_downloader.py
def optimize_image(self, image):
    # 1. í¬ê¸° ì¡°ì •
    image.thumbnail((800, 800), Image.Resampling.LANCZOS)

    # 2. í’ˆì§ˆ ìµœì í™”
    image.save(filepath, 'JPEG', quality=85, optimize=True)

    # ê²°ê³¼: í‰ê·  100KB ì´í•˜ë¡œ ê°ì†Œ (90% ì ˆì•½)
```

**êµí›ˆ:**
- ì´ë¯¸ì§€ ìµœì í™”ëŠ” í•„ìˆ˜
- Pillow ë¼ì´ë¸ŒëŸ¬ë¦¬ì˜ thumbnail + optimize ì¡°í•© íš¨ê³¼ì 

### 5. Selenium ì•ˆì •ì„± ê°œì„  (ê°œë°œ ì´ˆê¸°)

**ë¬¸ì œ:**
- ë™ì  ì½˜í…ì¸  ë¡œë”© ì „ ìŠ¤í¬ë˜í•‘ ì‹œë„ â†’ ìš”ì†Œë¥¼ ì°¾ì§€ ëª»í•¨
- ê°„í—ì  ì‹¤íŒ¨ ë°œìƒ

**í•´ê²°:**
```python
# selenium_driver.py
# Before: ê³ ì • ëŒ€ê¸°
time.sleep(3)  # âŒ ë¶ˆì•ˆì •

# After: ëª…ì‹œì  ëŒ€ê¸°
WebDriverWait(driver, 10).until(
    EC.element_to_be_clickable((By.CSS_SELECTOR, 'a.fvwqf'))
)  # âœ… ì•ˆì •ì 
```

**êµí›ˆ:**
- Seleniumì—ì„œëŠ” ëª…ì‹œì  ëŒ€ê¸°(Explicit Wait)ê°€ ì•”ë¬µì  ëŒ€ê¸°ë³´ë‹¤ ì•ˆì •ì 
- ì¤‘ìš”í•œ ìš”ì†ŒëŠ” WebDriverWait ì‚¬ìš©

---

## ğŸ“Š í”„ë¡œì íŠ¸ í†µê³„

### ì½”ë“œ í†µê³„

```
ì–¸ì–´ë³„ ì½”ë“œ ë¼ì¸ ìˆ˜:
Python         : ~2,500 ì¤„
JavaScript     : ~1,200 ì¤„
HTML/CSS       : ~2,000 ì¤„
SQL            : ~200 ì¤„
Dockerfile     : ~100 ì¤„
YAML           : ~150 ì¤„
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ì´             : ~6,150 ì¤„
```

### íŒŒì¼ êµ¬ì¡°

```
wafl/
â”œâ”€â”€ web-server/            # ì›¹ ì„œë²„ (FastAPI)
â”‚   â”œâ”€â”€ main.py           (325 ì¤„)
â”‚   â”œâ”€â”€ database.py       (84 ì¤„)
â”‚   â””â”€â”€ templates/        (5ê°œ íŒŒì¼, ~2000 ì¤„)
â”‚
â”œâ”€â”€ scraping-server/       # ìŠ¤í¬ë˜í•‘ ì„œë²„ (FastAPI + Celery)
â”‚   â”œâ”€â”€ main.py           (443 ì¤„)
â”‚   â”œâ”€â”€ database.py       (84 ì¤„)
â”‚   â”œâ”€â”€ celery_app.py     (50 ì¤„)
â”‚   â”œâ”€â”€ tasks/
â”‚   â”‚   â””â”€â”€ scraping_tasks.py  (435 ì¤„)
â”‚   â””â”€â”€ utils/
â”‚       â”œâ”€â”€ selenium_driver.py      (100 ì¤„)
â”‚       â”œâ”€â”€ image_downloader.py     (150 ì¤„)
â”‚       â””â”€â”€ llm_summarizer.py       (244 ì¤„)
â”‚
â”œâ”€â”€ api-gateway/           # Nginx ì„¤ì •
â”‚   â””â”€â”€ nginx.conf        (80 ì¤„)
â”‚
â”œâ”€â”€ docker-compose.yml    (124 ì¤„)
â”œâ”€â”€ init.sql              (100 ì¤„)
â”œâ”€â”€ .env                  (15 ì¤„)
â”œâ”€â”€ SETUP_GUIDE.md        (173 ì¤„)
â””â”€â”€ README.md             (ì´ íŒŒì¼)
```

### ì„±ëŠ¥ ì§€í‘œ

```
ìŠ¤í¬ë˜í•‘ ì†ë„:
â”œâ”€â”€ ë§¤ì¥ ê¸°ë³¸ ì •ë³´: 5ì´ˆ
â”œâ”€â”€ ë©”ë‰´ ìˆ˜ì§‘ (10ê°œ): 15ì´ˆ
â”œâ”€â”€ ë¦¬ë·° ìˆ˜ì§‘ (50ê°œ): 30ì´ˆ
â””â”€â”€ AI ìš”ì•½ ìƒì„±: 20ì´ˆ
    ì´: ~70ì´ˆ

ì´ë¯¸ì§€ ìµœì í™”:
â”œâ”€â”€ ì›ë³¸: í‰ê·  1.2MB
â”œâ”€â”€ ìµœì í™” í›„: í‰ê·  95KB
â””â”€â”€ ì ˆê°ë¥ : ~92%

AI ìš”ì•½ ë¹„ìš©:
â”œâ”€â”€ ë¦¬ë·° 50ê°œ ê¸°ì¤€: $0.0015 (~2ì›)
â”œâ”€â”€ ì›” 100ê°œ ë§¤ì¥: $1.50 (~2,000ì›)
â””â”€â”€ GPT-4 ëŒ€ë¹„ ë¹„ìš©: 1/60
```

---

## ğŸ”® í–¥í›„ ê°œì„  ì‚¬í•­

### ë‹¨ê¸° (1-2ì£¼)

- [ ] ìŠ¤í¬ë˜í•‘ ì¬ì‹œë„ ë¡œì§ ê°œì„ 
- [ ] ì—ëŸ¬ ì•Œë¦¼ ì‹œìŠ¤í…œ (ì´ë©”ì¼/Slack)
- [ ] ì´ë¯¸ì§€ CDN ì—°ë™
- [ ] ìŠ¤í¬ë˜í•‘ ìŠ¤ì¼€ì¤„ëŸ¬ (ì£¼ê¸°ì  ìë™ ì—…ë°ì´íŠ¸)

### ì¤‘ê¸° (1-2ê°œì›”)

- [ ] ëŒ€ì‹œë³´ë“œ ì°¨íŠ¸/ê·¸ë˜í”„ ì¶”ê°€
- [ ] ë§¤ì¥ ë¹„êµ ê¸°ëŠ¥
- [ ] ì—‘ì…€ ë‚´ë³´ë‚´ê¸°
- [ ] ëª¨ë°”ì¼ ë°˜ì‘í˜• ê°œì„ 

### ì¥ê¸° (3ê°œì›” ì´ìƒ)

- [ ] ì‚¬ìš©ì ì¸ì¦/ê¶Œí•œ ê´€ë¦¬
- [ ] ë©€í‹° í…Œë„Œì‹œ ì§€ì›
- [ ] ì‹¤ì‹œê°„ ì•Œë¦¼ (WebSocket)
- [ ] AI ì±—ë´‡ (ë§¤ì¥ ìš´ì˜ ì»¨ì„¤íŒ…)

---

## ğŸ“ ì§€ì›

### ë¬¸ì„œ

- **ì„¤ì • ê°€ì´ë“œ**: [SETUP_GUIDE.md](./SETUP_GUIDE.md)
- **API ë¬¸ì„œ**: ì´ READMEì˜ [API ë¬¸ì„œ](#-api-ë¬¸ì„œ) ì„¹ì…˜
- **ë¬¸ì œ í•´ê²°**: ì´ READMEì˜ [ë¬¸ì œ í•´ê²°](#-ë¬¸ì œ-í•´ê²°) ì„¹ì…˜

### ë¡œê·¸ í™•ì¸

```bash
# ì „ì²´ ë¡œê·¸
docker compose logs -f

# ì„œë¹„ìŠ¤ë³„ ë¡œê·¸
docker compose logs -f wafl-web-server
docker compose logs -f wafl-scraping-server
docker compose logs -f wafl-scraping-worker

# ì—ëŸ¬ë§Œ í•„í„°ë§
docker compose logs | grep -i error
```

### ë””ë²„ê¹… íŒ

```bash
# 1. ì»¨í…Œì´ë„ˆ ë‚´ë¶€ ì ‘ì†
docker compose exec wafl-web-server bash
docker compose exec wafl-scraping-worker bash

# 2. Python ëŒ€í™”í˜• ì‰˜
docker compose exec wafl-web-server python3
>>> from database import SessionLocal, Store
>>> db = SessionLocal()
>>> stores = db.query(Store).all()
>>> print(stores)

# 3. PostgreSQL ì§ì ‘ ì ‘ì†
docker compose exec wafl-postgresql psql -U wafl_user -d wafl_db

# 4. Redis ì§ì ‘ ì ‘ì†
docker compose exec wafl-redis redis-cli
```

---

## ğŸ“„ ë¼ì´ì„ ìŠ¤

ì´ í”„ë¡œì íŠ¸ëŠ” ë‚´ë¶€ ì‚¬ìš© ëª©ì ìœ¼ë¡œ ê°œë°œë˜ì—ˆìŠµë‹ˆë‹¤.

---

## ğŸ‘¥ ê¸°ì—¬ì

- ê°œë°œì: [Your Name]
- ê¸°ê°„: 2024ë…„ 10ì›”
- AI ì§€ì›: Claude (Anthropic)

---

## ğŸ™ ê°ì‚¬ì˜ ê¸€

ì´ í”„ë¡œì íŠ¸ëŠ” ë‹¤ìŒ ì˜¤í”ˆì†ŒìŠ¤ í”„ë¡œì íŠ¸ë¥¼ í™œìš©í–ˆìŠµë‹ˆë‹¤:

- **FastAPI**: ë¹ ë¥´ê³  í˜„ëŒ€ì ì¸ Python ì›¹ í”„ë ˆì„ì›Œí¬
- **Celery**: ë¶„ì‚° íƒœìŠ¤í¬ í
- **Selenium**: ì›¹ ë¸Œë¼ìš°ì € ìë™í™”
- **PostgreSQL**: ê°•ë ¥í•œ ì˜¤í”ˆì†ŒìŠ¤ ë°ì´í„°ë² ì´ìŠ¤
- **Redis**: ì¸ë©”ëª¨ë¦¬ ë°ì´í„° ìŠ¤í† ì–´
- **OpenAI**: GPT-4o-mini API
- **Docker**: ì»¨í…Œì´ë„ˆí™” í”Œë«í¼

---

**ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸**: 2024ë…„ 10ì›” 4ì¼
**ë²„ì „**: 1.0.0
